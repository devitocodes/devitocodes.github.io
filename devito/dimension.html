

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Dimension &mdash; Devito v3.4</title>
  

  
  
    <link rel="shortcut icon" href="_static/devito_logo.png"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Constant" href="constant.html" />
    <link rel="prev" title="Symbolic Objects" href="symbolic.html" />
    <link href="_static/devito_style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Devito v3.4
          

          
            
            <img src="_static/devito_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="userapi.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="grids.html">Grids</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="symbolic.html">Symbolic Objects</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Dimension</a></li>
<li class="toctree-l3"><a class="reference internal" href="constant.html">Constant</a></li>
<li class="toctree-l3"><a class="reference internal" href="function.html">Function</a></li>
<li class="toctree-l3"><a class="reference internal" href="timefunction.html">TimeFunction</a></li>
<li class="toctree-l3"><a class="reference internal" href="sparsefunction.html">SparseFunction</a></li>
<li class="toctree-l3"><a class="reference internal" href="sparsetimefunction.html">SparseTimeFunction</a></li>
<li class="toctree-l3"><a class="reference internal" href="precsparsefunction.html">PrecomputedSparseFunction</a></li>
<li class="toctree-l3"><a class="reference internal" href="precsparsetimefunction.html">PrecomputedSparseTimeFunction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="finite-difference.html">Finite-difference approximations</a></li>
<li class="toctree-l2"><a class="reference internal" href="equation.html">Equation</a></li>
<li class="toctree-l2"><a class="reference internal" href="operator.html">Operator</a></li>
<li class="toctree-l2"><a class="reference internal" href="builtins.html">Built-in Operators</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="compiler.html">The Devito Compiler</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Devito v3.4</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="userapi.html">API Reference</a> &raquo;</li>
        
          <li><a href="symbolic.html">Symbolic Objects</a> &raquo;</li>
        
      <li>Dimension</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/dimension.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-devito.types.dimension">
<span id="dimension"></span><h1>Dimension<a class="headerlink" href="#module-devito.types.dimension" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="devito.types.dimension.Dimension">
<em class="property">class </em><code class="sig-prename descclassname">devito.types.dimension.</code><code class="sig-name descname">Dimension</code><a class="reference internal" href="_modules/devito/types/dimension.html#Dimension"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#devito.types.dimension.Dimension" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">devito.types.args.ArgProvider</span></code></p>
<p>Symbol defining an iteration space.</p>
<p>A Dimension represents a problem dimension. It is typically used to index
into Functions, but it can also appear in the middle of a symbolic expression
just like any other symbol.</p>
<p>Dimension is the root of a hierarchy of classes, which looks as follows (only
the classes exposed to the level of the user API are shown).</p>
<blockquote>
<div><blockquote>
<div><blockquote>
<div><blockquote>
<div><blockquote>
<div><dl>
<dt>Dimension</dt><dd><div class="line-block">
<div class="line"><br /></div>
</div>
</dd>
</dl>
</div></blockquote>
<div class="line-block">
<div class="line"><a href="#id1"><span class="problematic" id="id2">|</span></a></div>
</div>
</div></blockquote>
<dl>
<dt>BasicDimension            DefaultDimension</dt><dd><div class="line-block">
<div class="line"><br /></div>
</div>
</dd>
</dl>
</div></blockquote>
<dl>
<dt>DerivedDimension</dt><dd><div class="line-block">
<div class="line"><br /></div>
</div>
</dd>
</dl>
</div></blockquote>
<div class="line-block">
<div class="line">|                   |</div>
</div>
</div></blockquote>
<p>SteppingDimension   SubDimension   ConditionalDimension</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the dimension.</p></li>
<li><p><strong>spacing</strong> (<em>symbol</em><em>, </em><em>optional</em>) – A symbol to represent the physical spacing along this Dimension.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Dimensions are automatically created when a Grid is instantiated.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">devito</span> <span class="k">import</span> <span class="n">Grid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">dimensions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">&lt;class &#39;devito.types.dimension.SpaceDimension&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">time_dim</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>
<span class="go">&lt;class &#39;devito.types.dimension.TimeDimension&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">stepping_dim</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">&lt;class &#39;devito.types.dimension.SteppingDimension&#39;&gt;</span>
</pre></div>
</div>
<p>Alternatively, one can create Dimensions explicitly</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">devito</span> <span class="k">import</span> <span class="n">Dimension</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">Dimension</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;i&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Or, when many “free” Dimensions are needed, with the shortcut</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">devito</span> <span class="k">import</span> <span class="n">dimensions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span> <span class="o">=</span> <span class="n">dimensions</span><span class="p">(</span><span class="s1">&#39;i j k&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>A Dimension can be used to build a Function as well as within symbolic
expressions, as both array index (“indexed notation”) and free symbol.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">devito</span> <span class="k">import</span> <span class="n">Function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">dimensions</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">+</span> <span class="n">f</span>
<span class="go">2*f(i, j)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
<span class="go">f[i, j + 1] + f[i + 1, j]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">*</span><span class="n">i</span>
<span class="go">i*f(i, j)</span>
</pre></div>
</div>
<dl class="method">
<dt id="devito.types.dimension.Dimension.spacing">
<em class="property">property </em><code class="sig-name descname">spacing</code><a class="headerlink" href="#devito.types.dimension.Dimension.spacing" title="Permalink to this definition">¶</a></dt>
<dd><p>Symbol representing the physical spacing along the Dimension.</p>
</dd></dl>

<dl class="attribute">
<dt id="devito.types.dimension.Dimension.symbolic_max">
<code class="sig-name descname">symbolic_max</code><a class="headerlink" href="#devito.types.dimension.Dimension.symbolic_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Symbol defining the maximum point of the Dimension.</p>
</dd></dl>

<dl class="attribute">
<dt id="devito.types.dimension.Dimension.symbolic_min">
<code class="sig-name descname">symbolic_min</code><a class="headerlink" href="#devito.types.dimension.Dimension.symbolic_min" title="Permalink to this definition">¶</a></dt>
<dd><p>Symbol defining the minimum point of the Dimension.</p>
</dd></dl>

<dl class="attribute">
<dt id="devito.types.dimension.Dimension.symbolic_size">
<code class="sig-name descname">symbolic_size</code><a class="headerlink" href="#devito.types.dimension.Dimension.symbolic_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Symbolic size of the Dimension.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="devito.types.dimension.SpaceDimension">
<em class="property">class </em><code class="sig-prename descclassname">devito.types.dimension.</code><code class="sig-name descname">SpaceDimension</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/devito/types/dimension.html#SpaceDimension"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#devito.types.dimension.SpaceDimension" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">devito.types.dimension.BasicDimension</span></code></p>
<p>Symbol defining an iteration space.</p>
<p>This symbol represents a space dimension that defines the extent of
a physical grid.</p>
<p>A SpaceDimension creates dedicated shortcut notations for spatial
derivatives on Functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the dimension.</p></li>
<li><p><strong>spacing</strong> (<em>symbol</em><em>, </em><em>optional</em>) – A symbol to represent the physical spacing along this Dimension.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="devito.types.dimension.TimeDimension">
<em class="property">class </em><code class="sig-prename descclassname">devito.types.dimension.</code><code class="sig-name descname">TimeDimension</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/devito/types/dimension.html#TimeDimension"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#devito.types.dimension.TimeDimension" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">devito.types.dimension.BasicDimension</span></code></p>
<p>Symbol defining an iteration space.</p>
<p>This symbol represents a time dimension that defines the extent of time.</p>
<p>A TimeDimension create dedicated shortcut notations for time derivatives
on Functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the dimension.</p></li>
<li><p><strong>spacing</strong> (<em>symbol</em><em>, </em><em>optional</em>) – A symbol to represent the physical spacing along this Dimension.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="devito.types.dimension.DefaultDimension">
<em class="property">class </em><code class="sig-prename descclassname">devito.types.dimension.</code><code class="sig-name descname">DefaultDimension</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/devito/types/dimension.html#DefaultDimension"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#devito.types.dimension.DefaultDimension" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#devito.types.dimension.Dimension" title="devito.types.dimension.Dimension"><code class="xref py py-class docutils literal notranslate"><span class="pre">devito.types.dimension.Dimension</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">devito.types.basic.DataSymbol</span></code></p>
<p>Symbol defining an iteration space with statically-known size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the dimension.</p></li>
<li><p><strong>spacing</strong> (<em>Symbol</em><em>, </em><em>optional</em>) – A symbol to represent the physical spacing along this Dimension.</p></li>
<li><p><strong>default_value</strong> (<em>float</em><em>, </em><em>optional</em>) – Default value associated with the Dimension.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>A DefaultDimension carries a value, so it has a mutable state. Hence, it is
not cached.</p>
</dd></dl>

<dl class="class">
<dt id="devito.types.dimension.SteppingDimension">
<em class="property">class </em><code class="sig-prename descclassname">devito.types.dimension.</code><code class="sig-name descname">SteppingDimension</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/devito/types/dimension.html#SteppingDimension"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#devito.types.dimension.SteppingDimension" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">devito.types.dimension.DerivedDimension</span></code></p>
<p>Symbol defining a convex iteration sub-space derived from a <code class="docutils literal notranslate"><span class="pre">parent</span></code>
Dimension, which cyclically produces a finite range of values, such
as <code class="docutils literal notranslate"><span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">0,</span> <span class="pre">...</span></code> (also referred to as “modulo buffered
iteration”).</p>
<p>SteppingDimension is most commonly used to represent a time-stepping Dimension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the dimension.</p></li>
<li><p><strong>parent</strong> (<a class="reference internal" href="#devito.types.dimension.Dimension" title="devito.types.dimension.Dimension"><em>Dimension</em></a>) – The parent Dimension.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="devito.types.dimension.SteppingDimension.symbolic_max">
<em class="property">property </em><code class="sig-name descname">symbolic_max</code><a class="headerlink" href="#devito.types.dimension.SteppingDimension.symbolic_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Symbol defining the maximum point of the Dimension.</p>
</dd></dl>

<dl class="method">
<dt id="devito.types.dimension.SteppingDimension.symbolic_min">
<em class="property">property </em><code class="sig-name descname">symbolic_min</code><a class="headerlink" href="#devito.types.dimension.SteppingDimension.symbolic_min" title="Permalink to this definition">¶</a></dt>
<dd><p>Symbol defining the minimum point of the Dimension.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="devito.types.dimension.SubDimension">
<em class="property">class </em><code class="sig-prename descclassname">devito.types.dimension.</code><code class="sig-name descname">SubDimension</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/devito/types/dimension.html#SubDimension"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#devito.types.dimension.SubDimension" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">devito.types.dimension.DerivedDimension</span></code></p>
<p>Symbol defining a convex iteration sub-space derived from a <code class="docutils literal notranslate"><span class="pre">parent</span></code>
Dimension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the dimension.</p></li>
<li><p><strong>parent</strong> (<a class="reference internal" href="#devito.types.dimension.Dimension" title="devito.types.dimension.Dimension"><em>Dimension</em></a>) – The parent Dimension.</p></li>
<li><p><strong>left</strong> (<em>expr-like</em>) – Symbolic expression providing the left (lower) bound of the
SubDimension.</p></li>
<li><p><strong>right</strong> (<em>expr-like</em>) – Symbolic expression providing the right (upper) bound of the
SubDimension.</p></li>
<li><p><strong>thickness</strong> (<em>2-tuple of 2-tuples</em>) – The thickness of the left and right regions, respectively.</p></li>
<li><p><strong>local</strong> (<em>bool</em>) – True if, in case of domain decomposition, the SubDimension is
guaranteed not to span more than one domains, False otherwise.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>SubDimensions should <em>not</em> be created directly in user code; SubDomains
should be used instead. Exceptions are rare.</p>
<p>To create a SubDimension, one should use the shortcut methods <code class="docutils literal notranslate"><span class="pre">left</span></code>,
<code class="docutils literal notranslate"><span class="pre">right</span></code>, <code class="docutils literal notranslate"><span class="pre">middle</span></code>. For example, to create a SubDimension that spans
the entire space of the parent Dimension except for the two extremes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">devito</span> <span class="k">import</span> <span class="n">Dimension</span><span class="p">,</span> <span class="n">SubDimension</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">Dimension</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xi</span> <span class="o">=</span> <span class="n">SubDimension</span><span class="o">.</span><span class="n">middle</span><span class="p">(</span><span class="s1">&#39;xi&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>For a SubDimension that only spans the three leftmost points of its
parent Dimension, instead:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xl</span> <span class="o">=</span> <span class="n">SubDimension</span><span class="o">.</span><span class="n">left</span><span class="p">(</span><span class="s1">&#39;xl&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>SubDimensions created via the <code class="docutils literal notranslate"><span class="pre">left</span></code> and <code class="docutils literal notranslate"><span class="pre">right</span></code> shortcuts are, by default,
local (i.e., non-distributed) Dimensions, as they are assumed to fit entirely
within a single domain. This is the most typical use case (e.g., to set up
boundary conditions). To drop this assumption, pass <code class="docutils literal notranslate"><span class="pre">local=False</span></code>.</p>
</dd></dl>

<dl class="class">
<dt id="devito.types.dimension.ConditionalDimension">
<em class="property">class </em><code class="sig-prename descclassname">devito.types.dimension.</code><code class="sig-name descname">ConditionalDimension</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/devito/types/dimension.html#ConditionalDimension"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#devito.types.dimension.ConditionalDimension" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">devito.types.dimension.DerivedDimension</span></code></p>
<p>Symbol defining a non-convex iteration sub-space derived from a <code class="docutils literal notranslate"><span class="pre">parent</span></code>
Dimension, implemented by the compiler generating conditional “if-then” code
within the parent Dimension’s iteration space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the dimension.</p></li>
<li><p><strong>parent</strong> (<a class="reference internal" href="#devito.types.dimension.Dimension" title="devito.types.dimension.Dimension"><em>Dimension</em></a>) – The parent Dimension.</p></li>
<li><p><strong>factor</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of iterations between two executions of the if-branch. If None
(default), <code class="docutils literal notranslate"><span class="pre">condition</span></code> must be provided.</p></li>
<li><p><strong>condition</strong> (<em>expr-like</em><em>, </em><em>optional</em>) – An arbitrary SymPy expression, typically involving the <code class="docutils literal notranslate"><span class="pre">parent</span></code>
Dimension. When it evaluates to True, the if-branch is executed. If None
(default), <code class="docutils literal notranslate"><span class="pre">factor</span></code> must be provided.</p></li>
<li><p><strong>indirect</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, use <code class="docutils literal notranslate"><span class="pre">condition</span></code>, rather than the parent Dimension, to
index into arrays. A typical use case is when arrays are accessed
indirectly via the <code class="docutils literal notranslate"><span class="pre">condition</span></code> expression. Defaults to False.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Among the other things, ConditionalDimensions are indicated to implement
Function subsampling. In the following example, an Operator evaluates the
Function <code class="docutils literal notranslate"><span class="pre">g</span></code> and saves its content into <code class="docutils literal notranslate"><span class="pre">f</span></code> every <code class="docutils literal notranslate"><span class="pre">factor=4</span></code> iterations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">devito</span> <span class="k">import</span> <span class="n">Dimension</span><span class="p">,</span> <span class="n">ConditionalDimension</span><span class="p">,</span> <span class="n">Function</span><span class="p">,</span> <span class="n">Eq</span><span class="p">,</span> <span class="n">Operator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span><span class="p">,</span> <span class="n">factor</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">Dimension</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;i&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ci</span> <span class="o">=</span> <span class="n">ConditionalDimension</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;ci&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">factor</span><span class="o">=</span><span class="n">factor</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">size</span><span class="p">,),</span> <span class="n">dimensions</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">size</span><span class="o">/</span><span class="n">factor</span><span class="p">,),</span> <span class="n">dimensions</span><span class="o">=</span><span class="p">(</span><span class="n">ci</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">op</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="n">Eq</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">Eq</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">)])</span>
</pre></div>
</div>
<p>The Operator generates the following for-loop (pseudocode)</p>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">i_m</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">i_M</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">i</span><span class="o">%</span><span class="mi">4</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">/</span> <span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Another typical use case is when one needs to constrain the execution of
loop iterations to make sure certain conditions are honoured. The following
artificial example employs indirect array accesses and uses ConditionalDimension
to guard against out-of-bounds accesses.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="k">import</span> <span class="n">And</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ci</span> <span class="o">=</span> <span class="n">ConditionalDimension</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;ci&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">i</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="n">condition</span><span class="o">=</span><span class="n">And</span><span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">,</span> <span class="n">evaluate</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">size</span><span class="o">/</span><span class="n">factor</span><span class="p">,),</span> <span class="n">dimensions</span><span class="o">=</span><span class="p">(</span><span class="n">ci</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">op</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">(</span><span class="n">Eq</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="n">f</span><span class="p">[</span><span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p>The Operator generates the following for-loop (pseudocode)</p>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">i_m</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">i_M</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">f</span><span class="p">[</span><span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="method">
<dt id="devito.types.dimension.ConditionalDimension.factor">
<em class="property">property </em><code class="sig-name descname">factor</code><a class="headerlink" href="#devito.types.dimension.ConditionalDimension.factor" title="Permalink to this definition">¶</a></dt>
<dd><p>See the factor() function in sympy.polys.polytools</p>
</dd></dl>

<dl class="method">
<dt id="devito.types.dimension.ConditionalDimension.spacing">
<em class="property">property </em><code class="sig-name descname">spacing</code><a class="headerlink" href="#devito.types.dimension.ConditionalDimension.spacing" title="Permalink to this definition">¶</a></dt>
<dd><p>Symbol representing the physical spacing along the Dimension.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="devito.types.dimension.ModuloDimension">
<em class="property">class </em><code class="sig-prename descclassname">devito.types.dimension.</code><code class="sig-name descname">ModuloDimension</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/devito/types/dimension.html#ModuloDimension"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#devito.types.dimension.ModuloDimension" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">devito.types.dimension.DerivedDimension</span></code></p>
<p>Dimension symbol representing a non-contiguous sub-region of a given
<code class="docutils literal notranslate"><span class="pre">parent</span></code> Dimension, which cyclically produces a finite range of values,
such as <code class="docutils literal notranslate"><span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">0,</span> <span class="pre">...</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference internal" href="#devito.types.dimension.Dimension" title="devito.types.dimension.Dimension"><em>Dimension</em></a>) – The Dimension from which the ModuloDimension is derived.</p></li>
<li><p><strong>offset</strong> (<em>int</em>) – The offset from the parent dimension</p></li>
<li><p><strong>modulo</strong> (<em>int</em>) – The divisor value.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – To force a different Dimension name.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This type should not be instantiated directly in user code; if in need for
modulo buffered iteration, use SteppingDimension instead.</p>
</dd></dl>

<dl class="class">
<dt id="devito.types.dimension.IncrDimension">
<em class="property">class </em><code class="sig-prename descclassname">devito.types.dimension.</code><code class="sig-name descname">IncrDimension</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/devito/types/dimension.html#IncrDimension"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#devito.types.dimension.IncrDimension" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">devito.types.dimension.DerivedDimension</span></code></p>
<p>Dimension symbol representing a non-contiguous sub-region of a given
<code class="docutils literal notranslate"><span class="pre">parent</span></code> Dimension, with one point every <code class="docutils literal notranslate"><span class="pre">step</span></code> points. Thus, if
<code class="docutils literal notranslate"><span class="pre">step</span> <span class="pre">==</span> <span class="pre">k</span></code>, the dimension represents the sequence <code class="docutils literal notranslate"><span class="pre">min,</span> <span class="pre">min</span> <span class="pre">+</span> <span class="pre">k,</span>
<span class="pre">min</span> <span class="pre">+</span> <span class="pre">2*k,</span> <span class="pre">...</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference internal" href="#devito.types.dimension.Dimension" title="devito.types.dimension.Dimension"><em>Dimension</em></a>) – The Dimension from which the IncrDimension is derived.</p></li>
<li><p><strong>_min</strong> (<em>int</em><em>, </em><em>optional</em>) – The minimum point of the sequence. Defaults to the parent’s
symbolic minimum.</p></li>
<li><p><strong>step</strong> (<em>int</em><em>, </em><em>optional</em>) – The distance between two consecutive points. Defaults to the
symbolic size.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – To force a different Dimension name.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This type should not be instantiated directly in user code.</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="constant.html" class="btn btn-neutral float-right" title="Constant" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="symbolic.html" class="btn btn-neutral float-left" title="Symbolic Objects" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2019, Devito

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>